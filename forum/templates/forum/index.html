{% extends "forum/base.html" %}
{% block content %}
<div class="container">
    <div class="jumbotron">
        {% if user.is_authenticated %}
        <h1>Index</h1>
        <input class="form-control" id="myInput" type="text" placeholder="Search..">
        <br>	
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Author</th>
                    <th>Post type</th>
                    <th>Date posted(UTC)</th>
                    <th>Last update(UTC)</th>
                <th>Open</th>
                </tr>
            </thead>
            {% for post in posts %}
                <tbody id="myTable">
                    <tr>
                        <td>{{ post.title }}</td>
                            <td>{{ post.author }}</td>
                            <td>{{ post.post_type }}</td>
                            <td>{{ post.date_posted|date:"H:i d F, Y" }}</td>
                            <td>{{ post.date_last_save|date:"H:i d F, Y" }}</td>
                            <td><a href="#">Open</a></td>
                    </tr>
                </tbody>	
            {% endfor %}		
        </table>
        <div class="pagination">
            <span class="step-links">
                {% if posts.has_previous %}
                    <a href="?page=1">&laquo; first</a>
                    <a href="?page={{ posts.previous_page_number }}">previous</a>
                {% endif %}
                
                <span class="current">
                    Page {{ posts.number }} of {{ posts.paginator.num_pages }}.
                </span>
    
                {% if posts.has_next %}
                    <a href="?page={{ posts.next_page_number }}">next</a>   
                    <a href="?page={{ posts.paginator.num_pages }}">last &raquo;</a>
                {% endif %}
            </span>
        </div>	
        {% else %}
        <h1>Index Page</h1>
        <p>Simpleforum</p>
        {% endif %}
    </div>
</div>
	<!-- jQuery Filter  -->
	<script>
		$(document).ready(function(){
		  $("#myInput").on("keyup", function() {
			var value = $(this).val().toLowerCase();
			$("#myTable tr").filter(function() {
			  $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
			});
		  });
		});
	</script>
{% endblock content %}